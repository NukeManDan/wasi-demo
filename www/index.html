<!DOCTYPE html>
<html>
  <body>
    <h1>Wasm Component Demo</h1>
    <input type="number" id="lhs" />
    +
    <!-- TODO: make a dropdown based on enum items in impl operators -->
    <input type="number" id="rhs" />
    <button onclick="run()">=</button>
    <p id="answer"></p>

    <script type="module">
    import { base64 } from "./composed.js";

    let utf8Encode = new TextEncoder();
    let bytes = utf8Encode.encode("Wazzzzup from");

    let enc = base64.encodeB64(bytes);
    let dec = base64.decodeStr(enc);
    console.log("Encode:" + enc);
    console.log("Decode:" + dec);

    function run() {
      var x = document.getElementById("lhs");
      var y = document.getElementById("rhs");
      // TODO: make a case switch based on enum items in impl operators
      document.getElementById("answer").innerHTML = calculate.evalExpression(
        "add",
        x.value,
        y.value,
      );
    }
    window.run = run;
    </script>
  </body>
</html>
